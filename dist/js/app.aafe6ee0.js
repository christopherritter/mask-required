(function(e){function t(t){for(var n,a,i=t[0],u=t[1],c=t[2],l=0,d=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var i=r[a];0!==o[i]&&(n=!1)}n&&(s.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},a={app:0},o={app:0},s=[];function i(e){return u.p+"js/"+({"close-buy~user-location":"close-buy~user-location","close-buy":"close-buy","user-location":"user-location",login:"login",nearby:"nearby","place~review":"place~review",place:"place",review:"review",search:"search",settings:"settings"}[e]||e)+"."+{"close-buy~user-location":"83aeb01b","close-buy":"6694cd91","user-location":"b7303eb9",login:"c409ff8a",nearby:"33cbcc30","place~review":"d695568d",place:"783a03f0",review:"89ed119e",search:"65f9dabc",settings:"c642a617"}[e]+".js"}function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(e){var t=[],r={"close-buy":1,"user-location":1,"place~review":1,place:1,review:1,settings:1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({"close-buy~user-location":"close-buy~user-location","close-buy":"close-buy","user-location":"user-location",login:"login",nearby:"nearby","place~review":"place~review",place:"place",review:"review",search:"search",settings:"settings"}[e]||e)+"."+{"close-buy~user-location":"31d6cfe0","close-buy":"45ad387c","user-location":"2eab16cd",login:"31d6cfe0",nearby:"31d6cfe0","place~review":"961178dd",place:"c1afb7ce",review:"21f26fed",search:"31d6cfe0",settings:"b04e80d3"}[e]+".css",o=u.p+n,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===n||l===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],l=c.getAttribute("data-href");if(l===n||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[e],p.parentNode.removeChild(p),r(s)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){a[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(e);var d=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(p);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,r[1](d)}o[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var p=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"app"}},[e.showNav?r("SiteNav"):e._e(),r("router-view")],1)},o=[],s=(r("b64b"),r("5530")),i=r("2f62"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"siteNav"}},[r("v-app-bar",{attrs:{color:"gray darken-3","clipped-left":e.$vuetify.breakpoint.lgAndUp,dark:"",app:""}},[r("v-toolbar-title",{staticClass:"ml-0 p-3",style:e.showPointer,on:{click:e.goHome}},[e._v(" Mask Required ")]),r("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],staticClass:"pl-4 hidden hidden-sm-and-down",attrs:{id:"navbar-autocomplete",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",placeholder:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$router.push("search")}}},[r("v-icon",[e._v("mdi-plus-circle-outline")])],1),r("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",a,!1),n),[r("v-icon",[e._v("mdi-dots-vertical")])],1)]}}])},[r("v-list",[r("v-list-item",[r("v-list-item-title",{on:{click:function(t){return e.$router.push("settings")}}},[e._v(" Settings ")])],1),r("v-list-item",[r("v-list-item-title",{on:{click:function(t){return e.logout()}}},[e._v(" Logout ")])],1)],1)],1)],1)],1)},c=[],l=(r("b0c0"),{data:function(){return{address:null,drawer:!1,group:null}},mounted:function(){var e=this,t=new google.maps.places.Autocomplete(document.getElementById("navbar-autocomplete"));t.addListener("place_changed",(function(){var r=t.getPlace();console.log(r),e.selectPlace(r),"place"!=e.$router.currentRoute.name&&e.$router.push("place")}))},methods:{selectPlace:function(e){this.$store.dispatch("selectPlace",e)},goHome:function(){"home"!=this.$router.currentRoute.name&&this.$router.push({name:"home"})},logout:function(){this.$store.dispatch("logout")}},computed:{showSearch:function(){return this.$store.state.showSearch},showPointer:function(){return"home"==this.$router.currentRoute.name?{pointer:"none"}:{cursor:"pointer"}}},watch:{group:function(){this.drawer=!1}}}),d=l,p=r("2877"),m=r("6544"),h=r.n(m),f=r("40dc"),v=r("8336"),b=r("132d"),g=r("8860"),w=r("da13"),y=r("5d23"),k=r("e449"),x=r("2fa4"),_=r("8654"),P=r("2a7f"),R=Object(p["a"])(d,u,c,!1,null,null,null),O=R.exports;h()(R,{VAppBar:f["a"],VBtn:v["a"],VIcon:b["a"],VList:g["a"],VListItem:w["a"],VListItemTitle:y["c"],VMenu:k["a"],VSpacer:x["a"],VTextField:_["a"],VToolbarTitle:P["a"]});var A={components:{SiteNav:O},computed:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["userProfile"])),{},{showNav:function(){return Object.keys(this.userProfile).length>1}})},j=A,U=r("7496"),S=Object(p["a"])(j,a,o,!1,null,null,null),N=S.exports;h()(S,{VApp:U["a"]});r("45fc"),r("d3b7");var E=r("8c4f"),q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-main",{staticClass:"mt-10"},[r("v-container",[r("v-card",{staticClass:"p-4"},[r("v-row",[r("v-col",{staticClass:"text-center"},[r("h3",[e._v("Find a safe place to shop.")])])],1),r("v-row",[r("v-col",[r("v-text-field",{staticClass:"px-4 pb-2",attrs:{id:"home-autocomplete",outlined:"","hide-details":"","prepend-inner-icon":"mdi-magnify",placeholder:"Enter business name or category"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1)],1)],1)],1)],1)},C=[],I={data:function(){return{address:null}},methods:{selectPlace:function(e){this.$store.dispatch("selectPlace",e)}},mounted:function(){var e=this;this.$store.state.showSearch=!1;var t=new google.maps.places.Autocomplete(document.getElementById("home-autocomplete"));t.addListener("place_changed",(function(){var r=t.getPlace();e.selectPlace(r),"place"!=e.$router.currentRoute.name&&e.$router.push("place")}))}},V=I,$=r("b0af"),L=r("62ad"),T=r("a523"),B=r("f6c4"),M=r("0fd9"),Y=Object(p["a"])(V,q,C,!1,null,null,null),D=Y.exports;h()(Y,{VCard:$["a"],VCol:L["a"],VContainer:T["a"],VMain:B["a"],VRow:M["a"],VTextField:_["a"]});var H=r("dc59"),W=(r("99af"),r("4160"),r("13d5"),r("159b"),r("96cf"),r("1da1"));n["a"].use(i["a"]),H["c"].orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var r=e.data();r.id=e.id,t.push(r)})),z.commit("setPosts",t)}));var z=new i["a"].Store({state:{userProfile:{},place:{},rating:0,reviews:[],posts:[],showSearch:!0,masks:{employees:["All of the employees were properly wearing masks","Some of the employees were wearing some kind of mask","Hardly any of the employees were wearing their masks properly","None of the employees were properly wearing masks"],customers:["All of the customers were wearing masks","Some of the customers were wearing masks","Hardly any of the customers were wearing masks","None of the customers were wearing masks"]},questions:[{id:"0",text:"Did they limit the number of people inside the store?",answers:[{id:"0",label:"Yes",value:"yes"},{id:"1",label:"No",value:"no"},{id:"2",label:"Unsure",value:"unsure"}]},{id:"1",text:"Were you asked to stand back from the registers?",answers:[{id:"0",label:"Yes",value:"yes"},{id:"1",label:"No",value:"no"},{id:"2",label:"Unsure",value:"unsure"}]},{id:"2",text:"Were there any plastic shields protecting the cashiers?",answers:[{id:"0",label:"Yes",value:"yes"},{id:"1",label:"No",value:"no"},{id:"2",label:"Unsure",value:"unsure"}]},{id:"3",text:"Was there any hand sanitizer available to the customers?",answers:[{id:"0",label:"Yes",value:"yes"},{id:"1",label:"No",value:"no"},{id:"2",label:"Unsure",value:"unsure"}]},{id:"4",text:"Did they provide free masks to customers without one?",answers:[{id:"0",label:"Yes",value:"yes"},{id:"1",label:"No",value:"no"},{id:"2",label:"Unsure",value:"unsure"}]},{id:"5",text:"Did they regularly wipe down everything that customer use?",answers:[{id:"0",label:"Yes",value:"yes"},{id:"1",label:"No",value:"no"},{id:"2",label:"Unsure",value:"unsure"}]},{id:"6",text:"Do they have home delivery or curb-side pick-up options?",answers:[{id:"0",label:"Yes",value:"yes"},{id:"1",label:"No",value:"no"},{id:"2",label:"Unsure",value:"unsure"}]},{id:"7",text:"Did you see signs that clearly state the store policies?",answers:[{id:"0",label:"Yes",value:"yes"},{id:"1",label:"No",value:"no"},{id:"2",label:"Unsure",value:"unsure"}]},{id:"8",text:"Was someone enforcing store policies at the front door?",answers:[{id:"0",label:"Yes",value:"yes"},{id:"1",label:"No",value:"no"},{id:"2",label:"Unsure",value:"unsure"}]},{id:"9",text:"Were the customers spaced six feet apart from each other?",answers:[{id:"0",label:"Yes",value:"yes"},{id:"1",label:"No",value:"no"},{id:"2",label:"Unsure",value:"unsure"}]},{id:"10",text:"Were there physical barriers separating the customers?",answers:[{id:"0",label:"Yes",value:"yes"},{id:"1",label:"No",value:"no"},{id:"2",label:"Unsure",value:"unsure"}]},{id:"11",text:"Did you see signs to direct the flow of traffic?",answers:[{id:"0",label:"Yes",value:"yes"},{id:"1",label:"No",value:"no"},{id:"2",label:"Unsure",value:"unsure"}]}],ratings:[{id:0,label:"Compliance",value:0},{id:1,label:"Safety",value:0},{id:2,label:"Concern",value:0}]},mutations:{setUserProfile:function(e,t){e.userProfile=t},setReviews:function(e,t){e.reviews=t},setPosts:function(e,t){e.posts=t},getAverageRating:function(e,t){var r=t.reduce((function(e,t){return e+t}),0);r/=t.length;var n=Math.round(2*r)/2;return n}},actions:{login:function(e,t){return Object(W["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,r.next=3,H["a"].signInWithEmailAndPassword(t.email,t.password);case 3:a=r.sent,o=a.user,n("fetchUserProfile",o);case 6:case"end":return r.stop()}}),r)})))()},fetchUserProfile:function(e,t){return Object(W["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,H["e"].doc(t.uid).get();case 3:a=r.sent,n("setUserProfile",a.data()),"/login"===G.currentRoute.path&&G.push("/");case 6:case"end":return r.stop()}}),r)})))()},signup:function(e,t){return Object(W["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,r.next=3,H["a"].createUserWithEmailAndPassword(t.email,t.password);case 3:return a=r.sent,o=a.user,r.next=7,H["e"].doc(o.uid).set({name:t.name,title:t.title});case 7:n("fetchUserProfile",o);case 8:case"end":return r.stop()}}),r)})))()},logout:function(e){return Object(W["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,H["a"].signOut();case 3:r("setUserProfile",{}),G.push("/login");case 5:case"end":return t.stop()}}),t)})))()},selectPlace:function(e,t){return Object(W["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.state,a=e.dispatch,n.place.business_status=t.business_status,n.place.formatted_address=t.formatted_address,n.place.formatted_phone_number=t.formatted_phone_number,n.place.lat=t.geometry.location.lat(),n.place.lng=t.geometry.location.lng(),n.place.icon=t.icon,n.place.name=t.name,n.place.isOpen=t.opening_hours.isOpen(),n.place.open_hours=t.opening_hours.weekday_text,n.place.place_id=t.place_id,n.place.price_level=t.price_level,n.place.types=t.types,n.place.url=t.url,n.place.website=t.website,a("fetchReviews");case 16:case"end":return r.stop()}}),r)})))()},showLocation:function(e,t){return Object(W["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.dispatch,n=new google.maps.Map(document.getElementById("map"),{zoom:15,center:new google.maps.LatLng(t.lat,t.lng),mapTypeId:google.maps.MapTypeId.ROADMAP}),new google.maps.Marker({position:new google.maps.LatLng(t.lat,t.lng),map:n});case 3:case"end":return r.stop()}}),r)})))()},createReview:function(e,t){return Object(W["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.state,e.commit,r.next=3,H["d"].add({createdOn:new Date,place:n.place,rating:t.rating,title:t.title,content:t.content,masks:t.masks,questions:t.questions,ratings:t.ratings,userId:H["a"].currentUser.uid,userName:n.userProfile.name,likes:0,agreement:t.agreement});case 3:case"end":return r.stop()}}),r)})))()},fetchReviews:function(e){return Object(W["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,t.next=3,H["d"].where("place.place_id","==",r.place.place_id).get();case 3:if(n=t.sent,a=[],o=[],s=[],!n.empty){t.next=10;break}return z.commit("setReviews",[]),t.abrupt("return");case 10:n.forEach((function(e){var t=e.data();t.id=e.id,t.ratings&&t.ratings[0].value&&s.push(t.ratings[0].value),o.push(t.rating),a.push(t)})),i=o.reduce((function(e,t){return e+t}),0),i/=a.length,r.rating=Math.round(2*i)/2,z.commit("getAverageRating",s),z.commit("setReviews",a);case 16:case"end":return t.stop()}}),t)})))()},likeReview:function(e,t){return Object(W["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.commit,n=H["a"].currentUser.uid,a="".concat(n,"_").concat(t.id),r.next=5,H["b"].doc(a).get();case 5:if(o=r.sent,!o.exists){r.next=8;break}return r.abrupt("return");case 8:return r.next=10,H["b"].doc(a).set({reviewId:t.id,userId:n});case 10:H["d"].doc(t.id).update({likes:t.likesCount+1});case 11:case"end":return r.stop()}}),r)})))()},updateProfile:function(e,t){return Object(W["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,a=H["a"].currentUser.uid,r.next=4,H["e"].doc(a).update({name:t.name,title:t.title});case 4:return r.sent,n("fetchUserProfile",{uid:a}),r.next=8,H["c"].where("userId","==",a).get();case 8:o=r.sent,o.forEach((function(e){H["c"].doc(e.id).update({userName:t.name})}));case 10:case"end":return r.stop()}}),r)})))()}}}),F=z;n["a"].use(E["a"]);var J=[{path:"/",name:"home",component:D,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:function(){return r.e("login").then(r.bind(null,"a55b"))}},{path:"/settings",name:"settings",component:function(){return r.e("settings").then(r.bind(null,"26d3"))},meta:{requiresAuth:!0}},{path:"/user-location",name:"user-location",component:function(){return Promise.all([r.e("close-buy~user-location"),r.e("user-location")]).then(r.bind(null,"2125"))},meta:{requiresAuth:!0}},{path:"/close-buy",name:"close-buy",component:function(){return Promise.all([r.e("close-buy~user-location"),r.e("close-buy")]).then(r.bind(null,"8899"))},meta:{requiresAuth:!0}},{path:"/nearby",name:"nearby",component:function(){return r.e("nearby").then(r.bind(null,"6384"))},meta:{requiresAuth:!0},beforeEnter:function(e,t,r){F.state.place.name?r():r({name:"home"})}},{path:"/search",name:"search",component:function(){return r.e("search").then(r.bind(null,"2d3b"))},meta:{requiresAuth:!0}},{path:"/place",name:"place",component:function(){return Promise.all([r.e("place~review"),r.e("place")]).then(r.bind(null,"e756"))},meta:{requiresAuth:!0},beforeEnter:function(e,t,r){F.state.place.name?r():r({name:"home"})}},{path:"/review",name:"review",component:function(){return Promise.all([r.e("place~review"),r.e("review")]).then(r.bind(null,"bb44"))},meta:{requiresAuth:!0},beforeEnter:function(e,t,r){F.state.place.name?r():r({name:"home"})}}],K=new E["a"]({mode:"history",base:"/",routes:J,scrollBehavior:function(){document.getElementById("app").scrollIntoView()}});K.beforeEach((function(e,t,r){var n=e.matched.some((function(e){return e.meta.requiresAuth}));n&&!H["a"].currentUser?r("/login"):r()}));var G=K,X=(r("7e7d"),r("f309"));n["a"].use(X["a"]);var Z,Q=new X["a"]({});n["a"].config.productionTip=!1,H["a"].onAuthStateChanged((function(e){Z||(Z=new n["a"]({router:G,store:F,vuetify:Q,render:function(e){return e(N)}}).$mount("#app")),e&&F.dispatch("fetchUserProfile",e)}))},"7e7d":function(e,t,r){},dc59:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r("59ca"),a=(r("ea7b"),r("e71f"),{apiKey:"AIzaSyCHzVbXJqB_-tUwT2AeUGZ_-HRkvJOHjqI",authDomain:"mask-required.firebaseapp.com",databaseURL:"https://mask-required.firebaseio.com",projectId:"mask-required",storageBucket:"mask-required.appspot.com",messagingSenderId:"783326866906",appId:"1:783326866906:web:80587a7cde78e644f924e3"});n["initializeApp"](a);var o=n["firestore"](),s=n["auth"](),i=o.collection("users"),u=o.collection("reviews"),c=o.collection("posts"),l=o.collection("likes")}});
//# sourceMappingURL=app.aafe6ee0.js.map