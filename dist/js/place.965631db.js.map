{"version":3,"sources":["webpack:///./src/views/Place.vue?511c","webpack:///src/views/Place.vue","webpack:///./src/views/Place.vue?b70e","webpack:///./src/views/Place.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","closePostModal","_v","_s","fullPost","userName","_f","createdOn","content","comments","likes","directives","name","rawName","value","postComments","expression","_l","comment","key","id","_e","place","formatted_address","reviews","$router","push","review","likePost","post","viewPost","staticRenderFns","data","selectedPost","showPostModal","mounted","$store","state","showSearch","dispatch","computed","methods","createPost","filters","formatDate","val","trimLength","length","component","VBtn","VCard","VCardActions","VCardSubtitle","VCardText","VCardTitle","VCol","VContainer","VDivider","VMain","VRow"],"mappings":"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","file":"js/place.965631db.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-main',[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.showPostModal)?_c('div',{staticClass:\"p-modal\"},[_c('div',{staticClass:\"p-container\"},[_c('a',{staticClass:\"close\",on:{\"click\":function($event){return _vm.closePostModal()}}},[_vm._v(\"close\")]),_c('div',{staticClass:\"post\"},[_c('h5',[_vm._v(_vm._s(_vm.fullPost.userName))]),_c('span',[_vm._v(_vm._s(_vm._f(\"formatDate\")(_vm.fullPost.createdOn)))]),_c('p',[_vm._v(_vm._s(_vm.fullPost.content))]),_c('ul',[_c('li',[_c('a',[_vm._v(\"comments \"+_vm._s(_vm.fullPost.comments))])]),_c('li',[_c('a',[_vm._v(\"likes \"+_vm._s(_vm.fullPost.likes))])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.postComments.length),expression:\"postComments.length\"}],staticClass:\"comments\"},_vm._l((_vm.postComments),function(comment){return _c('div',{key:comment.id,staticClass:\"comment\"},[_c('p',[_vm._v(_vm._s(comment.userName))]),_c('span',[_vm._v(_vm._s(_vm._f(\"formatDate\")(comment.createdOn)))]),_c('p',[_vm._v(_vm._s(comment.content))])])}),0)])]):_vm._e()]),_c('v-container',{attrs:{\"id\":\"place\",\"fluid\":\"\"}},[_c('v-row',[_c('v-col',[_c('div',{staticClass:\"profile\"},[_c('h5',[_vm._v(_vm._s(_vm.place.name))]),_c('p',[_vm._v(_vm._s(_vm.place.formatted_address))])])])],1),_c('v-row',[_c('v-col',[(_vm.reviews.length)?_c('v-card',[_c('v-btn',{staticClass:\"mt-4 mx-4\",attrs:{\"color\":\"grey darken-4\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.$router.push('review')}}},[_vm._v(\"Write a review\")]),_c('v-divider'),_vm._l((_vm.reviews),function(review){return _c('div',{key:review.id,staticClass:\"review\"},[_c('v-card-title',{staticClass:\"review-username\"},[_vm._v(_vm._s(review.userName))]),_c('v-card-subtitle',{staticClass:\"review-created-on\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(review.createdOn)))]),_c('v-card-text',{staticClass:\"review-content\"},[_vm._v(_vm._s(_vm._f(\"trimLength\")(review.content)))]),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.likePost(_vm.post.id, _vm.post.likes)}}},[_vm._v(\"likes \"+_vm._s(_vm.post.likes))]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.viewPost(_vm.post)}}},[_vm._v(\"view full post\")])],1),_c('v-divider')],1)})],2):_c('v-card',[_c('v-card-text',{staticClass:\"no-results\"},[_vm._v(\"There are currently no reviews\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*eslint no-unused-vars: [\"error\", { \"args\": \"none\" }]*/\r\n<template>\r\n  <v-main>\r\n    <!-- full post modal -->\r\n    <transition name=\"fade\">\r\n      <div v-if=\"showPostModal\" class=\"p-modal\">\r\n        <div class=\"p-container\">\r\n          <a @click=\"closePostModal()\" class=\"close\">close</a>\r\n          <div class=\"post\">\r\n            <h5>{{ fullPost.userName }}</h5>\r\n            <span>{{ fullPost.createdOn | formatDate }}</span>\r\n            <p>{{ fullPost.content }}</p>\r\n            <ul>\r\n              <li>\r\n                <a>comments {{ fullPost.comments }}</a>\r\n              </li>\r\n              <li>\r\n                <a>likes {{ fullPost.likes }}</a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div v-show=\"postComments.length\" class=\"comments\">\r\n            <div\r\n              v-for=\"comment in postComments\"\r\n              :key=\"comment.id\"\r\n              class=\"comment\"\r\n            >\r\n              <p>{{ comment.userName }}</p>\r\n              <span>{{ comment.createdOn | formatDate }}</span>\r\n              <p>{{ comment.content }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <v-container id=\"place\" fluid>\r\n      <v-row>\r\n        <v-col>\r\n          <div class=\"profile\">\r\n            <h5>{{ place.name }}</h5>\r\n            <p>{{ place.formatted_address }}</p>\r\n            <!-- <div class=\"create-post\">\r\n              <p>create a post</p>\r\n              <form @submit.prevent>\r\n                <v-textarea v-model.trim=\"post.content\"></v-textarea>\r\n                <v-btn @click=\"createPost()\" :disabled=\"post.content === ''\">\r\n                  post\r\n                </v-btn>\r\n              </form>\r\n            </div> -->\r\n          </div>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col>\r\n          <v-card v-if=\"reviews.length\">\r\n            <v-btn\r\n              color=\"grey darken-4\"\r\n              dark\r\n              class=\"mt-4 mx-4\"\r\n              @click=\"$router.push('review')\"\r\n              >Write a review</v-btn\r\n            >\r\n            <v-divider></v-divider>\r\n            <div v-for=\"review in reviews\" :key=\"review.id\" class=\"review\">\r\n              <v-card-title class=\"review-username\">{{\r\n                review.userName\r\n              }}</v-card-title>\r\n              <v-card-subtitle class=\"review-created-on\">{{\r\n                review.createdOn | formatDate\r\n              }}</v-card-subtitle>\r\n              <v-card-text class=\"review-content\">{{\r\n                review.content | trimLength\r\n              }}</v-card-text>\r\n              <v-card-actions>\r\n                <v-btn text @click=\"likePost(post.id, post.likes)\"\r\n                  >likes {{ post.likes }}</v-btn\r\n                >\r\n\r\n                <v-btn text @click=\"viewPost(post)\">view full post</v-btn>\r\n              </v-card-actions>\r\n              <v-divider></v-divider>\r\n            </div>\r\n          </v-card>\r\n          <v-card v-else>\r\n            <v-card-text class=\"no-results\"\r\n              >There are currently no reviews</v-card-text\r\n            >\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </v-main>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport moment from \"moment\";\r\nimport * as fb from \"../firebase\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      post: {\r\n        content: \"\",\r\n      },\r\n      selectedPost: {},\r\n      showPostModal: false,\r\n      fullPost: {},\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$store.state.showSearch = true;\r\n    this.$store.dispatch(\"fetchReviews\");\r\n    // fb.reviewsCollection.orderBy(\"createdOn\", \"desc\").onSnapshot((snapshot) => {\r\n    //   let reviewsArray = [];\r\n\r\n    //   snapshot.forEach((doc) => {\r\n    //     let review = doc.data();\r\n    //     review.id = doc.id;\r\n    //     console.log(review);\r\n    //     // if (review.place.id == this.$store.state.place.id) {\r\n    //       reviewsArray.push(review);\r\n    //     // } else {\r\n    //     //   console.log(review.place.id);\r\n    //     // }\r\n\r\n    //   });\r\n\r\n    //   this.$store.commit(\"setReviews\", reviewsArray);\r\n    // });\r\n  },\r\n  computed: {\r\n    ...mapState([\"userProfile\", \"place\", [\"reviews\"], [\"posts\"]]),\r\n  },\r\n  methods: {\r\n    createPost() {\r\n      this.$store.dispatch(\"createPost\", { content: this.post.content });\r\n      this.post.content = \"\";\r\n    },\r\n    likePost(id, likesCount) {\r\n      this.$store.dispatch(\"likePost\", { id, likesCount });\r\n    },\r\n    closePostModal() {\r\n      this.postComments = [];\r\n      this.showPostModal = false;\r\n    },\r\n  },\r\n  filters: {\r\n    formatDate(val) {\r\n      if (!val) {\r\n        return \"-\";\r\n      }\r\n\r\n      let date = val.toDate();\r\n      return moment(date).fromNow();\r\n    },\r\n    trimLength(val) {\r\n      if (val.length < 200) {\r\n        return val;\r\n      }\r\n      return `${val.substring(0, 200)}...`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Place.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Place.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Place.vue?vue&type=template&id=6ffec8a7&\"\nimport script from \"./Place.vue?vue&type=script&lang=js&\"\nexport * from \"./Place.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCardTitle,VCol,VContainer,VDivider,VMain,VRow})\n"],"sourceRoot":""}