(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["place"],{"8ce9":function(t,e,s){},"99d9":function(t,e,s){"use strict";s.d(e,"a",(function(){return a})),s.d(e,"b",(function(){return r})),s.d(e,"c",(function(){return i})),s.d(e,"d",(function(){return c}));var o=s("b0af"),n=s("80d2"),a=Object(n["f"])("v-card__actions"),r=Object(n["f"])("v-card__subtitle"),i=Object(n["f"])("v-card__text"),c=Object(n["f"])("v-card__title");o["a"]},e756:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-main",[s("transition",{attrs:{name:"fade"}},[t.showCommentModal?s("CommentModal",{attrs:{post:t.selectedPost},on:{close:function(e){return t.toggleCommentModal()}}}):t._e()],1),s("transition",{attrs:{name:"fade"}},[t.showPostModal?s("div",{staticClass:"p-modal"},[s("div",{staticClass:"p-container"},[s("a",{staticClass:"close",on:{click:function(e){return t.closePostModal()}}},[t._v("close")]),s("div",{staticClass:"post"},[s("h5",[t._v(t._s(t.fullPost.userName))]),s("span",[t._v(t._s(t._f("formatDate")(t.fullPost.createdOn)))]),s("p",[t._v(t._s(t.fullPost.content))]),s("ul",[s("li",[s("a",[t._v("comments "+t._s(t.fullPost.comments))])]),s("li",[s("a",[t._v("likes "+t._s(t.fullPost.likes))])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.postComments.length,expression:"postComments.length"}],staticClass:"comments"},t._l(t.postComments,(function(e){return s("div",{key:e.id,staticClass:"comment"},[s("p",[t._v(t._s(e.userName))]),s("span",[t._v(t._s(t._f("formatDate")(e.createdOn)))]),s("p",[t._v(t._s(e.content))])])})),0)])]):t._e()]),s("v-container",{attrs:{id:"place",fluid:""}},[s("v-row",[s("v-col",[s("div",{staticClass:"profile"},[s("h5",[t._v(t._s(t.place.name))]),s("p",[t._v(t._s(t.place.formatted_address))])])])],1),s("v-row",[s("v-col",[t.posts.length?s("v-card",[s("v-btn",{staticClass:"mt-4 mx-4",attrs:{color:"grey darken-4",dark:""}},[t._v("Write a review")]),s("v-divider"),t._l(t.posts,(function(e){return s("div",{key:e.id,staticClass:"post"},[s("v-card-title",{staticClass:"post-username"},[t._v(t._s(e.userName))]),s("v-card-subtitle",{staticClass:"post-created-on"},[t._v(t._s(t._f("formatDate")(e.createdOn)))]),s("v-card-text",{staticClass:"post-content"},[t._v(t._s(t._f("trimLength")(e.content)))]),s("v-card-actions",[s("v-btn",{attrs:{text:""},on:{click:function(s){return t.toggleCommentModal(e)}}},[t._v("comments "+t._s(e.comments))]),s("v-btn",{attrs:{text:""},on:{click:function(s){return t.likePost(e.id,e.likes)}}},[t._v("likes "+t._s(e.likes))]),s("v-btn",{attrs:{text:""},on:{click:function(s){return t.viewPost(e)}}},[t._v("view full post")])],1),s("v-divider")],1)}))],2):s("v-card",[s("v-card-text",{staticClass:"no-results"},[t._v("There are currently no posts")])],1)],1)],1)],1)],1)},n=[],a=(s("4160"),s("159b"),s("96cf"),s("1da1")),r=s("5530"),i=s("2f62"),c=s("c1df"),l=s.n(c),d=s("4f7b"),u=s("dc59"),v={data:function(){return{post:{content:""},showCommentModal:!1,selectedPost:{},showPostModal:!1,fullPost:{},postComments:[]}},components:{CommentModal:d["a"]},computed:Object(r["a"])({},Object(i["b"])(["userProfile","place",["posts"]])),methods:{createPost:function(){this.$store.dispatch("createPost",{content:this.post.content}),this.post.content=""},toggleCommentModal:function(t){this.showCommentModal=!this.showCommentModal,this.showCommentModal?this.selectedPost=t:this.selectedPost={}},likePost:function(t,e){this.$store.dispatch("likePost",{id:t,likesCount:e})},viewPost:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,u["b"].where("postId","==",t.id).get();case 2:o=s.sent,o.forEach((function(t){var s=t.data();s.id=t.id,e.postComments.push(s)})),e.fullPost=t,e.showPostModal=!0;case 6:case"end":return s.stop()}}),s)})))()},closePostModal:function(){this.postComments=[],this.showPostModal=!1}},filters:{formatDate:function(t){if(!t)return"-";var e=t.toDate();return l()(e).fromNow()},trimLength:function(t){return t.length<200?t:"".concat(t.substring(0,200),"...")}}},m=v,f=s("2877"),p=s("6544"),h=s.n(p),_=s("8336"),C=s("b0af"),w=s("99d9"),b=s("62ad"),P=s("a523"),k=(s("8ce9"),s("7560")),g=k["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(t){var e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:Object(r["a"])({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:Object(r["a"])({role:"separator","aria-orientation":e},this.$attrs),on:this.$listeners})}}),M=s("f6c4"),x=s("0fd9"),O=Object(f["a"])(m,o,n,!1,null,null,null);e["default"]=O.exports;h()(O,{VBtn:_["a"],VCard:C["a"],VCardActions:w["a"],VCardSubtitle:w["b"],VCardText:w["c"],VCardTitle:w["d"],VCol:b["a"],VContainer:P["a"],VDivider:g,VMain:M["a"],VRow:x["a"]})}}]);
//# sourceMappingURL=place.f0d54271.js.map