(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-location"],{2125:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("main",{staticClass:"container-fluid",attrs:{id:"user-location"}},[o("div",{staticClass:"row justify-content-md-center"},[o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"card mt-3"},[o("form",{staticClass:"card-body",on:{submit:function(e){e.preventDefault()}}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"alert alert-danger"},[e._v(e._s(e.error))]),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your address",id:"autocomplete"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}}),o("div",{staticClass:"input-group-append"},[o("button",{staticClass:"btn btn-primary",class:{loading:e.spinner},attrs:{type:"button"},on:{click:e.locatorButtonPressed}},[o("i",{staticClass:"fas fa-map-marker-alt"})])])])])])])]),o("div",{attrs:{id:"map"}})])},s=[],r=o("bc3a"),n=o.n(r),i={data:function(){return{address:"",error:"",spinner:!1}},mounted:function(){var e=this,t=new google.maps.places.Autocomplete(document.getElementById("autocomplete"));t.addListener("place_changed",(function(){var o=t.getPlace();e.showUserLocationOnTheMap(o.geometry.location.lat(),o.geometry.location.lng())}))},methods:{locatorButtonPressed:function(){var e=this;this.spinner=!0,navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e.getAddressFrom(t.coords.latitude,t.coords.longitude),e.showUserLocationOnTheMap(t.coords.latitude,t.coords.longitude)}),(function(t){e.error="Can't find your address. Please enter it manually.",e.spinner=!1,console.log(t.message)})):(this.error="Your browser does not support Geolocation API",this.spinner=!1)},getAddressFrom:function(e,t){var o=this;n.a.get("https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/geocode/json?latlng="+e+","+t+"&key=AIzaSyCHzVbXJqB_-tUwT2AeUGZ_-HRkvJOHjqI").then((function(e){e.data.error_message?o.error=e.data.error_message:(o.address=e.data.results[0].formatted_address,console.log(e.data.results[0].formatted_address)),o.spinner=!1})).catch((function(e){o.error=e.message,o.spinner=!1}))},showUserLocationOnTheMap:function(e,t){var o=new google.maps.Map(document.getElementById("map"),{zoom:15,center:new google.maps.LatLng(e,t),mapTypeId:google.maps.MapTypeId.ROADMAP});new google.maps.Marker({position:new google.maps.LatLng(e,t),map:o})}}},d=i,c=o("2877"),l=Object(c["a"])(d,a,s,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=user-location.97c4657c.js.map