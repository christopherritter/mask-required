{"version":3,"sources":["webpack:///../../../src/components/VCard/index.ts","webpack:///./src/views/Place.vue?8011","webpack:///src/views/Place.vue","webpack:///./src/views/Place.vue?b70e","webpack:///../../../src/components/VDivider/VDivider.ts","webpack:///./src/views/Place.vue"],"names":["VCardActions","VCardSubtitle","VCardText","VCardTitle","_vm","this","_h","$createElement","_c","_self","attrs","selectedPost","on","$event","toggleCommentModal","_e","staticClass","closePostModal","_v","_s","fullPost","userName","_f","createdOn","content","comments","likes","directives","name","rawName","value","postComments","expression","_l","comment","key","id","place","formatted_address","posts","post","likePost","viewPost","staticRenderFns","data","showCommentModal","showPostModal","components","CommentModal","computed","methods","createPost","$store","dispatch","filters","formatDate","val","trimLength","length","props","inset","vertical","Boolean","render","$attrs","role","orientation","h","class","themeClasses","$listeners","component","VBtn","VCard","VCol","VContainer","VDivider","VMain","VRow"],"mappings":"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","file":"js/place.f0d54271.js","sourcesContent":["import VCard from './VCard'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nconst VCardActions = createSimpleFunctional('v-card__actions')\nconst VCardSubtitle = createSimpleFunctional('v-card__subtitle')\nconst VCardText = createSimpleFunctional('v-card__text')\nconst VCardTitle = createSimpleFunctional('v-card__title')\n\nexport {\n  VCard,\n  VCardActions,\n  VCardSubtitle,\n  VCardText,\n  VCardTitle,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VCard,\n    VCardActions,\n    VCardSubtitle,\n    VCardText,\n    VCardTitle,\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-main',[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.showCommentModal)?_c('CommentModal',{attrs:{\"post\":_vm.selectedPost},on:{\"close\":function($event){return _vm.toggleCommentModal()}}}):_vm._e()],1),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.showPostModal)?_c('div',{staticClass:\"p-modal\"},[_c('div',{staticClass:\"p-container\"},[_c('a',{staticClass:\"close\",on:{\"click\":function($event){return _vm.closePostModal()}}},[_vm._v(\"close\")]),_c('div',{staticClass:\"post\"},[_c('h5',[_vm._v(_vm._s(_vm.fullPost.userName))]),_c('span',[_vm._v(_vm._s(_vm._f(\"formatDate\")(_vm.fullPost.createdOn)))]),_c('p',[_vm._v(_vm._s(_vm.fullPost.content))]),_c('ul',[_c('li',[_c('a',[_vm._v(\"comments \"+_vm._s(_vm.fullPost.comments))])]),_c('li',[_c('a',[_vm._v(\"likes \"+_vm._s(_vm.fullPost.likes))])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.postComments.length),expression:\"postComments.length\"}],staticClass:\"comments\"},_vm._l((_vm.postComments),function(comment){return _c('div',{key:comment.id,staticClass:\"comment\"},[_c('p',[_vm._v(_vm._s(comment.userName))]),_c('span',[_vm._v(_vm._s(_vm._f(\"formatDate\")(comment.createdOn)))]),_c('p',[_vm._v(_vm._s(comment.content))])])}),0)])]):_vm._e()]),_c('v-container',{attrs:{\"id\":\"place\",\"fluid\":\"\"}},[_c('v-row',[_c('v-col',[_c('div',{staticClass:\"profile\"},[_c('h5',[_vm._v(_vm._s(_vm.place.name))]),_c('p',[_vm._v(_vm._s(_vm.place.formatted_address))])])])],1),_c('v-row',[_c('v-col',[(_vm.posts.length)?_c('v-card',[_c('v-btn',{staticClass:\"mt-4 mx-4\",attrs:{\"color\":\"grey darken-4\",\"dark\":\"\"}},[_vm._v(\"Write a review\")]),_c('v-divider'),_vm._l((_vm.posts),function(post){return _c('div',{key:post.id,staticClass:\"post\"},[_c('v-card-title',{staticClass:\"post-username\"},[_vm._v(_vm._s(post.userName))]),_c('v-card-subtitle',{staticClass:\"post-created-on\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(post.createdOn)))]),_c('v-card-text',{staticClass:\"post-content\"},[_vm._v(_vm._s(_vm._f(\"trimLength\")(post.content)))]),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.toggleCommentModal(post)}}},[_vm._v(\"comments \"+_vm._s(post.comments))]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.likePost(post.id, post.likes)}}},[_vm._v(\"likes \"+_vm._s(post.likes))]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.viewPost(post)}}},[_vm._v(\"view full post\")])],1),_c('v-divider')],1)})],2):_c('v-card',[_c('v-card-text',{staticClass:\"no-results\"},[_vm._v(\"There are currently no posts\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*eslint no-unused-vars: [\"error\", { \"args\": \"none\" }]*/\r\n<template>\r\n  <v-main>\r\n    <transition name=\"fade\">\r\n      <CommentModal\r\n        v-if=\"showCommentModal\"\r\n        :post=\"selectedPost\"\r\n        @close=\"toggleCommentModal()\"\r\n      ></CommentModal>\r\n    </transition>\r\n    <!-- full post modal -->\r\n    <transition name=\"fade\">\r\n      <div v-if=\"showPostModal\" class=\"p-modal\">\r\n        <div class=\"p-container\">\r\n          <a @click=\"closePostModal()\" class=\"close\">close</a>\r\n          <div class=\"post\">\r\n            <h5>{{ fullPost.userName }}</h5>\r\n            <span>{{ fullPost.createdOn | formatDate }}</span>\r\n            <p>{{ fullPost.content }}</p>\r\n            <ul>\r\n              <li>\r\n                <a>comments {{ fullPost.comments }}</a>\r\n              </li>\r\n              <li>\r\n                <a>likes {{ fullPost.likes }}</a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div v-show=\"postComments.length\" class=\"comments\">\r\n            <div\r\n              v-for=\"comment in postComments\"\r\n              :key=\"comment.id\"\r\n              class=\"comment\"\r\n            >\r\n              <p>{{ comment.userName }}</p>\r\n              <span>{{ comment.createdOn | formatDate }}</span>\r\n              <p>{{ comment.content }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <v-container id=\"place\" fluid>\r\n      <v-row>\r\n        <v-col>\r\n          <div class=\"profile\">\r\n            <h5>{{ place.name }}</h5>\r\n            <p>{{ place.formatted_address }}</p>\r\n            <!-- <div class=\"create-post\">\r\n              <p>create a post</p>\r\n              <form @submit.prevent>\r\n                <v-textarea v-model.trim=\"post.content\"></v-textarea>\r\n                <v-btn @click=\"createPost()\" :disabled=\"post.content === ''\">\r\n                  post\r\n                </v-btn>\r\n              </form>\r\n            </div> -->\r\n          </div>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col>\r\n          <v-card v-if=\"posts.length\">\r\n            <v-btn color=\"grey darken-4\" dark class=\"mt-4 mx-4\">Write a review</v-btn>\r\n            <v-divider></v-divider>\r\n            <div v-for=\"post in posts\" :key=\"post.id\" class=\"post\">\r\n              <v-card-title class=\"post-username\">{{\r\n                post.userName\r\n              }}</v-card-title>\r\n              <v-card-subtitle class=\"post-created-on\">{{\r\n                post.createdOn | formatDate\r\n              }}</v-card-subtitle>\r\n              <v-card-text class=\"post-content\">{{\r\n                post.content | trimLength\r\n              }}</v-card-text>\r\n              <v-card-actions>\r\n                <v-btn text @click=\"toggleCommentModal(post)\"\r\n                  >comments {{ post.comments }}</v-btn\r\n                >\r\n\r\n                <v-btn text @click=\"likePost(post.id, post.likes)\"\r\n                  >likes {{ post.likes }}</v-btn\r\n                >\r\n\r\n                <v-btn text @click=\"viewPost(post)\">view full post</v-btn>\r\n              </v-card-actions>\r\n              <v-divider></v-divider>\r\n            </div>\r\n          </v-card>\r\n          <v-card v-else>\r\n            <v-card-text class=\"no-results\"\r\n              >There are currently no posts</v-card-text\r\n            >\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </v-main>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport moment from \"moment\";\r\nimport CommentModal from \"@/components/CommentModal\";\r\nimport { commentsCollection } from \"@/firebase\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      post: {\r\n        content: \"\",\r\n      },\r\n      showCommentModal: false,\r\n      selectedPost: {},\r\n      showPostModal: false,\r\n      fullPost: {},\r\n      postComments: [],\r\n    };\r\n  },\r\n  components: {\r\n    CommentModal,\r\n  },\r\n  computed: {\r\n    ...mapState([\"userProfile\", \"place\", [\"posts\"]]),\r\n  },\r\n  methods: {\r\n    createPost() {\r\n      this.$store.dispatch(\"createPost\", { content: this.post.content });\r\n      this.post.content = \"\";\r\n    },\r\n    toggleCommentModal(post) {\r\n      this.showCommentModal = !this.showCommentModal;\r\n\r\n      // if opening modal set selectedPost, else clear\r\n      if (this.showCommentModal) {\r\n        this.selectedPost = post;\r\n      } else {\r\n        this.selectedPost = {};\r\n      }\r\n    },\r\n    likePost(id, likesCount) {\r\n      this.$store.dispatch(\"likePost\", { id, likesCount });\r\n    },\r\n    async viewPost(post) {\r\n      const docs = await commentsCollection\r\n        .where(\"postId\", \"==\", post.id)\r\n        .get();\r\n\r\n      docs.forEach((doc) => {\r\n        let comment = doc.data();\r\n        comment.id = doc.id;\r\n        this.postComments.push(comment);\r\n      });\r\n\r\n      this.fullPost = post;\r\n      this.showPostModal = true;\r\n    },\r\n    closePostModal() {\r\n      this.postComments = [];\r\n      this.showPostModal = false;\r\n    },\r\n  },\r\n  filters: {\r\n    formatDate(val) {\r\n      if (!val) {\r\n        return \"-\";\r\n      }\r\n\r\n      let date = val.toDate();\r\n      return moment(date).fromNow();\r\n    },\r\n    trimLength(val) {\r\n      if (val.length < 200) {\r\n        return val;\r\n      }\r\n      return `${val.substring(0, 200)}...`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Place.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Place.vue?vue&type=script&lang=js&\"","// Styles\nimport './VDivider.sass'\n\n// Types\nimport { VNode } from 'vue'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\n\nexport default Themeable.extend({\n  name: 'v-divider',\n\n  props: {\n    inset: Boolean,\n    vertical: Boolean,\n  },\n\n  render (h): VNode {\n    // WAI-ARIA attributes\n    let orientation\n    if (!this.$attrs.role || this.$attrs.role === 'separator') {\n      orientation = this.vertical ? 'vertical' : 'horizontal'\n    }\n    return h('hr', {\n      class: {\n        'v-divider': true,\n        'v-divider--inset': this.inset,\n        'v-divider--vertical': this.vertical,\n        ...this.themeClasses,\n      },\n      attrs: {\n        role: 'separator',\n        'aria-orientation': orientation,\n        ...this.$attrs,\n      },\n      on: this.$listeners,\n    })\n  },\n})\n","import { render, staticRenderFns } from \"./Place.vue?vue&type=template&id=1989ce77&\"\nimport script from \"./Place.vue?vue&type=script&lang=js&\"\nexport * from \"./Place.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCardTitle,VCol,VContainer,VDivider,VMain,VRow})\n"],"sourceRoot":""}